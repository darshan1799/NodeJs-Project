<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        form {
            border: 2px black solid;
            display: flex;
            flex-direction: column;
            width: 25%;
            gap: 10px;
            padding: 30px;
            border-radius: 6px;
            margin-left: 10%;

            background-color: rgb(207, 220, 244);
        }

        form input {
            border: 1px red solid;
            padding: 7px;
            border-radius: 5px;
        }

        form h2 {
            margin-top: 10px;
            text-align: center;
        }

        form a {
            text-decoration: none;
            color: blue;

        }

        form button {

            padding: 7px;
            font-size: 14px;
            border-radius: 6px;
            margin-top: 7px;
            background-color: rgb(48, 234, 234);
        }

        table {
            display: inline-block;
        }

        div {
            display: flex;
            margin-top: 45px;
            gap: 100px;
        }

        table {
            font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;

        }

        th,
        td {
            padding: 14px;
            text-align: center;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serifs;

        }

        th {
            background-color: rgb(21, 225, 157);
            color: rgb(11, 11, 11);
        }

        table tr:nth-child(odd) {
            background-color: rgb(186, 222, 210);
        }

        table tr:nth-child(even) {
            background-color: rgb(171, 239, 176);
        }
        #last
        {
            background-color: rgb(21, 225, 157);
        }
        h1
        {
        color: rgb(244, 37, 185);
        margin-top: 60px;
        text-align: center;
      text-shadow: 1px 1px 10px rgb(244, 124, 124);
      
        }
    </style>
</head>

<body>
    <%- include('common/common')%>
    <%total = 0%>
    <%profit = 0%>
    <h1><%= storename%></h1>
        <div>
           
            <form action="/stockdata" method="post">
                <h2>Stocks Form</h2>
                <label for="productname">productname</label>
                <input type="text" name="itemname" id="productname" required>
                <label for="quantity">quantity : </label>
                <input type="text" name="quantity" id="quantity" required>
                <label for="cost-price">Costprice : </label>
                <input type="text" name="costprice" id="cost-price" required>
                <label for="sellingprice">sellingprice : </label>
                <input type="text" name="sellingprice" id="sellingprice" required>
                <button type="submit">Add In Stock</button>
            </form>
            <table>
                <th>Item-Name</th>
                <th>Stocks</th>
                <th>Cost-Price</th>
                <th>sellingprice</th>
                <th>Sold</th>
                <th>Income</th>
                <th>Profit</th>
                <%data.forEach((el)=>{%>
                    <tr>
                       <%for(let i in el){%>
                            <%if(i == "err"){%>
                                <td colspan="7"><%= el[i]%></td> 
                           <%}else{%>
                            
                            <td><%= el[i]%></td>
                          
                            <%if(i == "income"){%>
                               <%total += parseInt(el[i])%>
                                <%}else if(i == "profit"){%>
                                    <%profit += parseInt(el[i])%>
                                 <%}%>      
                        <%}}%>
                    </tr>
                    <%})%>
                    <tr id="last">
                        <td colspan="5">Total</td>
                        <td><%=total%></td>
                        <td><%=profit%></td>
                    </tr>
            </table>
        </div>
</body>

</html>